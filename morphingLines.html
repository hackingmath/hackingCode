<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Morphing Lines</title>
    <script src="p5.js" type="text/javascript"></script>

    <script>
    
    //Based on David Whyte sketch

var num = 60; //number of pairs of points

function setup() {
  createCanvas(800,800);
  
}

function draw() {
  background(0);
  frameRate(20);
 
  for (var j=0; j<num; j++){ //assign a value to j
    push(); //move the grid
    translate(width/2,height/2); //move to center
    var angle = 2*PI*j/num //space the points out evenly
    rotate(angle); //rotate that angle
    
    fill(255);
    stroke(255);
    var x1 = 150+100*sin(2*(-angle)+frameCount/10); //The first shape
    var x2 = 200- 100*cos(2*angle+frameCount/10); //The second shape
    line(x1,0,x2,0)// draw a line between them
    ellipse(x1,0,10,10); //draw ellipses on the endpoints
    ellipse(x2,0,10,10);
    pop(); //reset the grid
  }
}
</script>
    
    <style> body {padding: 0; margin: 0;} canvas {vertical-align: top;} </style>
  </head>
  <body>
	  <h1>Morphing Lines</h1>
	  This is based on a sketch by <a href = 'http://www.thisiscolossal.com/2014/06/dizzying-geometric-gifs-by-david-whyte/'>"Bees and Bombs" </a> genius David Whyte. <br/><br/>
  </body>
</html>
